# ScopeLock Backend - Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================================================
# Required Configuration
# ============================================================================

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_telegram_chat_id_here

# Webhook Authentication
WEBHOOK_SECRET=your_webhook_secret_here

# JWT Secret (for Mission Deck authentication)
# Generate with: python3 -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET=your_jwt_secret_here

# Backend API URL (for citizens to call back)
BACKEND_API_URL=https://scopelock.onrender.com

# ============================================================================
# Vercel Webhook Configuration
# ============================================================================

# Vercel webhook signature secret (for HMAC verification)
# Get this from: https://vercel.com/mindprotocol/scopelock/settings/webhooks
# When you create a webhook, Vercel provides a "Signing Secret"
#
# Security: Vercel signs webhook requests with HMAC-SHA1
# We verify the signature to ensure webhooks are actually from Vercel
#
# Optional: If not set, webhook accepts all requests (less secure)
VERCEL_WEBHOOK_SIGNATURE=your_vercel_webhook_signing_secret_here

# ============================================================================
# Claude CLI Configuration
# ============================================================================

# Claude credentials JSON (for Claude CLI authentication)
# Get this from: ~/.claude/.credentials.json on your local machine
# Format: Entire JSON file as a single-line string
#
# NEW FORMAT (OAuth-based, recommended):
# Example: {"claudeAiOauth":{"accessToken":"sk-ant-oat01-...","refreshToken":"sk-ant-ort01-...","expiresAt":1762479855036,"scopes":["user:inference","user:profile"],"subscriptionType":"max"},"mcpOAuth":{...}}
#
# OLD FORMAT (sessionKey, legacy):
# Example: {"sessionKey":"sk_ant_...","email":"you@example.com"}
#
# To get your credentials: cat ~/.claude/.credentials.json | jq -c
CLAUDE_CREDENTIALS='{"claudeAiOauth":{"accessToken":"your_access_token","refreshToken":"your_refresh_token","expiresAt":0,"scopes":[],"subscriptionType":"max"}}'

# Claude settings JSON (optional, for Claude CLI preferences)
# Get this from: ~/.claude/settings.json on your local machine
# Format: Entire JSON file as a single-line string
# Example: {"model":"claude-sonnet-4.5","maxTokens":8000}
# If not set, Claude CLI will use defaults
CLAUDE_SETTINGS='{"model":"claude-sonnet-4.5","maxTokens":8000}'

# ============================================================================
# Optional Configuration
# ============================================================================

# Environment (production, staging, development)
ENVIRONMENT=production

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# CORS Origins (comma-separated)
# Add your frontend domains here
CORS_ORIGINS=https://scopelock.mindprotocol.ai,http://localhost:3000

# Data directory (for file storage on Render persistent disk)
# Default: /var/data (Render persistent disk mount path)
# DATA_DIR=/var/data
